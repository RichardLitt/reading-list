var app=app||{};app.BookCollectionView=Backbone.View.extend({el:"#booklist",initialize:function(o){this.collection=[],this.collection=new app.BookCollection(o),this.render(),app.pubSub.on("viewingNewShelf",this.setBookCollection,this)},render:function(){this.$el.html(""),this.collection.forEach(function(o){this.renderBook(o)},this)},renderBook:function(o){var e=new app.BookView({model:o});this.$el.append(e.render().el)},setBookCollection:function(o){console.log("collection: ",o),this.collection=o,this.collection.on("add",this.render,this),this.render()}});