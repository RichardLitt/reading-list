var app=app||{};app.ShelfCollectionView=Backbone.View.extend({el:"#shelflist",initialize:function(e){this.collection=e,this.render(),app.pubSub.on("renderShelves",this.render,this)},render:function(){this.$el.html(""),this.collection.each(function(e){this.renderShelf(e)},this)},renderShelf:function(e){var i=new app.ShelfView({model:e});this.$el.append(i.render().el)},addShelf:function(e){this.collection.add(e),this.render()},setIndexAsActive:function(e){this.collection.models[e].setActive(!0),this.render()}});